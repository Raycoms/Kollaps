<?xml version="1.0" encoding="UTF-8" ?>
<experiment boot="need:1.1">
	<services>
		<service name="dashboard" image="warpenguin.no-ip.org/dashboard:1.0" supervisor="true" port="8088"/>
		<service name="client1" image="alpine:edge" command="['ping', 'client3-$$NEED_UUID']"/>
		<service name="client2" image="alpine:edge" command="['ping', 'client3-$$NEED_UUID']"/>
		<service name="client3" image="alpine:edge" command="['ping', 'client1-$$NEED_UUID']"/>
	</services>
	<bridges>
                <bridge name="s1"/>
                <bridge name="s2"/>
	</bridges>
        <links>
                <link origin="client1" dest="s1" latency="0" upload="100Mbps" download="100Mbps" network="test_overlay"/>
                <link origin="client2" dest="s1" latency="0" upload="100Mbps" download="100Mbps" network="test_overlay"/>
                <link origin="s1" dest="s2" latency="10" upload="50Mbps" download="50Mbps" drop="0.0" network="test_overlay"/>
                <link origin="s2" dest="client3" latency="0" upload="100Mbps" download="100Mbps" network="test_overlay"/>
	</links>
	<dynamic>
		<schedule name="client1" time="0.0" action="join"/>
		<schedule name="client2" time="0.0" action="join"/>
		<schedule name="client3"  time="0.0" action="join"/>
		
		<schedule origin="client1" dest="s1" time="10.0" jitter="1.5"/>
		<schedule origin="client1" dest="s1" time="30.0" jitter="0"/>
		
		<schedule name="client1" time="600.0" action="leave"/>
		<schedule name="client2" time="600.0" action="leave"/>
		<schedule name="client3"  time="600.0" action="leave"/>
	</dynamic>
</experiment>
